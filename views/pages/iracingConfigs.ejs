<!-- views/pages/iracingCars.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head %>
</head>

<body class="container">
    <div class="wrapper">
        <header>
            <% include ../partials/header %>
        </header>
        <main>
            <form class="configForm" method="post" action="iRacingConfigs">
                <table>
                    <tr>
                        <td><label for="search">Search by name: </label><input type="text" name="search" id="search" value="<%= search %>"/></td>
                        <td><label for="ovalFilter">Filter by oval/road:</label>
                            <select name="ovalFilter" id="ovalFilter">
                                <option value="Any">Any</option>
                                <option value="1">Oval Only</option>
                                <option value="0">Road Only</option>
                            </select>
                        </td>
                        <td><label for="nightFilter">Filter by night racing availability:</label>
                            <select name="nightFilter" id="nightFilter">
                                <option value="Any">Any</option>
                                <option value="1">Has Night</option>
                                <option value="0">Does not have night</option>
                            </select>
                        </td>
                        <td><input type="submit"/></td>
                    </tr>
                </table>
            </form>
            <table>
                <tr>
                    <th>Image</th>
                    <th>Parent Track</th>
                    <th>Config Name</th>
                    <th>Oval/Road</th>
                    <th>Has Night</th>
                </tr>
                    <% configs.forEach(function(config){ %>
                        <tr>
                            <td><img class="configImage" src="images/trackLayouts/<%= config.configLayoutImageURL %>"/></td>
                            <td><%= config.track_name %></td>
                            <td><%= config.config_name %></td>
                            <% if (config.isOval == 1) { %>
                                <td>Oval</td>
                            <% } else { %>
                                <td>Road</td>
                            <% } %>
                            <% if (config.hasNight == 1) { %>
                                <td>Yes</td>
                            <% } else { %>
                                <td>No</td>
                            <% } %>
                        </tr>
                    <% }); %>
            </table>
        </main>
        <footer>
            <% include ../partials/footer %>
        </footer>
    </div>
</body>
</html>